<html>
  <head>
    <link rel="stylesheet" href="./main.css" />
  </head>

  <body>
    <script>
      function randomRGB() {
        const x = Math.floor(Math.random() * 256);
        const y = Math.floor(Math.random() * 256);
        const z = Math.floor(Math.random() * 256);
        return `rgb(${x} ${y} ${z})`;
      }

      function appendDiv(ranNum) {
        for (let i = 0; i < ranNum; i += 1) {
          const newEle = document.createElement('div');
          newEle.style.backgroundColor = randomRGB();
          document.body.appendChild(newEle);
        }
      }

      const ranNum = Math.round(Math.random() * 50);
      appendDiv(ranNum);
      const scrollThreshold = 300;

      window.addEventListener('scroll', () => {
        const diff = document.body.offsetHeight - window.innerHeight - window.scrollY;
        if (diff < scrollThreshold) {
          appendDiv(10);
        }
      });
    </script>
  </body>
</html>
